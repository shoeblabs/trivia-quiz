<!doctype HTML>

<html lang="en" data-ng-app="triviaQuiz">
<head>
    
    <meta charset="utf-8">
    <title>Trivia Quiz</title>
    <meta name="description" content="Quiz App to play and learn">
    <meta name="viewport" content="width=device-width">
    <meta name="theme-color" content="#64992f">

    <base href="/">  

    <!-- Manisfest file & icon -->
    <link href="app/manifest.json" rel="manifest" >
    <link href="assets/images/favicon.ico" rel="icon">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" rel="stylesheet">

    <!-- CSS -->
    <link href="assets/css/main.css" rel="stylesheet">
    
</head>

<body>
    <canvas></canvas>
    <!-- Header -->
    <header>
        <img class="main-logo" ui-sref="home" src='/assets/images/logo.png'>
    </header>

    <!-- main -->
    <main ui-view></main>

    
    <!-- Vendor Js -->
    <script src="bower_components/angular/angular.js"></script>
    <script src="bower_components/angular-ui-router/release/angular-ui-router.js"></script>
    <script src="bower_components/angular-ui-router/release/stateEvents.js"></script>
    <script src="bower_components/angular-animate/angular-animate.js"></script>
    <script src="bower_components/angular-sanitize/angular-sanitize.js"></script>
    
    <!-- App Js -->
    <script src="app/main.js"></script>
    <script src="app/main.config.js"></script>
    <script src="app/main.router.js"></script>

    <!-- App Js : Services -->
    <script src="app/services/quiz.service.js"></script> 

    <!-- App Js : Directives -->
    <script src="app/directives/highlighter.directive.js"></script> 
    
    <!-- App Js : Controllers -->
    <script src="app/controllers/home.controller.js"></script>
    <script src="app/controllers/quiz.controller.js"></script>

    <script>
        var canvasDots = function() {
            var canvas = document.querySelector('canvas'),
                ctx = canvas.getContext('2d'),
                colorDot = '#00bdbf',
                color = '#00bdbf';
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            canvas.style.display = 'block';
            ctx.fillStyle = colorDot;
            ctx.lineWidth = .1;
            ctx.strokeStyle = color;

            var mousePosition = {
                x: 30 * canvas.width / 100,
                y: 30 * canvas.height / 100
            };

            var dots = {
                nb: 350,
                distance: 60,
                d_radius: 100,
                array: []
            };

            function Dot(){
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;

                this.vx = -.5 + Math.random();
                this.vy = -.5 + Math.random();

                this.radius = Math.random();
            }

            Dot.prototype = {
                create: function(){
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false);
                ctx.fill();
                },

                animate: function(){
                for(i = 0; i < dots.nb; i++){

                    var dot = dots.array[i];

                    if(dot.y < 0 || dot.y > canvas.height){
                    dot.vx = dot.vx;
                    dot.vy = - dot.vy;
                    }
                    else if(dot.x < 0 || dot.x > canvas.width){
                    dot.vx = - dot.vx;
                    dot.vy = dot.vy;
                    }
                    dot.x += dot.vx;
                    dot.y += dot.vy;
                }
                },

                line: function(){
                for(i = 0; i < dots.nb; i++){
                    for(j = 0; j < dots.nb; j++){
                    i_dot = dots.array[i];
                    j_dot = dots.array[j];

                    if((i_dot.x - j_dot.x) < dots.distance && (i_dot.y - j_dot.y) < dots.distance && (i_dot.x - j_dot.x) > - dots.distance && (i_dot.y - j_dot.y) > - dots.distance){
                        if((i_dot.x - mousePosition.x) < dots.d_radius && (i_dot.y - mousePosition.y) < dots.d_radius && (i_dot.x - mousePosition.x) > - dots.d_radius && (i_dot.y - mousePosition.y) > - dots.d_radius){
                        ctx.beginPath();
                        ctx.moveTo(i_dot.x, i_dot.y);
                        ctx.lineTo(j_dot.x, j_dot.y);
                        ctx.stroke();
                        ctx.closePath();
                        }
                    }
                    }
                }
                }
            };

            function createDots(){
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                for(i = 0; i < dots.nb; i++){
                dots.array.push(new Dot());
                dot = dots.array[i];

                dot.create();
                }

                dot.line();
                dot.animate();
            }

            window.onmousemove = function(parameter) {
                mousePosition.x = parameter.pageX;
                mousePosition.y = parameter.pageY;
            }

            mousePosition.x = window.innerWidth / 2;
            mousePosition.y = window.innerHeight / 2;

            setInterval(createDots, 1000/30); 
        };

        window.onload = function() {
            canvasDots();
        };
    </Script>
 
</body>

</html>
